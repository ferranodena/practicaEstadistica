```{r}
# First plot without number_of_reviews
library(ggplot2)
data <- read.csv("base_dades_districtes.csv")
ggplot(data, aes(x = price, y = review_scores_rating)) +
    geom_point(alpha = 0.5) +
    geom_smooth(method = "lm", color = "red") +
    labs(title = "Relationship between Price and Rating",
         x = "Price",
         y = "Rating") +
    theme_minimal()

# Correlation matrix with just price and rating
cor_matrix <- cor(data[c("price", "review_scores_rating")])
print(round(cor_matrix, 3))
```

```{r}
library(ggplot2)
data <- read.csv("base_dades_districtes.csv")
# Gràfic: Preu vs Nombre de reviews, color segons puntuació
ggplot(data, aes(x = price, y = number_of_reviews, color = review_scores_rating)) +
  geom_point(alpha = 0.7, size = 2) +
  scale_color_gradient(low = "yellow", high = "blue") +
  labs(title = "Price vs Number of reviews (color: rating)",
       x = "Price",
       y = "Number of reviews",
       color = "Rating") +
  theme_minimal()
```

```{r}
library(ggplot2)
data <- read.csv("base_dades_districtes.csv")
# Gràfic: Nombre de reviews vs Puntuació mitjana
ggplot(data, aes(x = number_of_reviews, y = review_scores_rating)) +
  geom_point(alpha = 0.6, color = "darkgreen", size = 2) +
  geom_smooth(method = "lm", color = "red") +
  labs(title = "Number of reviews vs Average rating",
       x = "Number of reviews",
       y = "Average rating") +
  theme_minimal()
```


